function locationHashChanged(){console.log("model hash check"),"#home"===location.hash&&(console.log("reloaded"),location.reload())}function Controller(t){var e=this;this.model=t,this.handleEvent=function(t){switch(t.stopPropagation(),t.type){case"click":e.clickHandler(t.target);break;case"input":e.keyupHandler(t.target);break;default:console.log(t.target)}},this.getModelHeading=function(){return console.log("from getmodel: "+e.model.inputtext+" heading "+e.model.heading),e.model.heading=e.model.inputtext,e.model.heading},this.keyupHandler=function(t){e.model.inputtext=t.value,e.view.heading.innerHTML=e.getModelHeading()},console.log("Controller")}function Model(){this.inputtext="",this.heading=this.inputtex,console.log("Model")}function Route(t,e,o){try{if(!t||!e)throw"error: name and htmlName params are mandatories";this.constructor(t,e,o)}catch(t){console.error(t)}}function Router(t){try{if(!t)throw"error: routes param is mandatory";this.constructor(t),this.init()}catch(t){console.error(t)}}function View(t){this.controller=t,this.heading=document.getElementById("heading"),this.heading&&(console.log("true"),this.heading.innerHTML=t.getModelHeading(),this.inputtext=document.getElementById("inputtext"),this.inputtext.addEventListener("input",t)),t.view=this,console.log("View")}window.onload=function(){new View(new Controller(new Model))},window.onhashchange=locationHashChanged,Route.prototype={name:void 0,htmlName:void 0,default:void 0,constructor:function(t,e,o){this.name=t,this.htmlName=e,this.default=o},isActiveRoute:function(t){return t.replace("#","")===this.name}},Router.prototype={routes:void 0,rootElem:void 0,constructor:function(t){this.routes=t,this.rootElem=document.getElementById("app")},init:function(){var e,o,t=this.routes;e=this,o=t,window.addEventListener("hashchange",function(t){e.hasChanged(e,o)}),this.hasChanged(this,t)},hasChanged:function(t,e){if(0<window.location.hash.length)for(var o=0,n=e.length;o<n;o++){(i=e[o]).isActiveRoute(window.location.hash.substr(1))&&t.goToRoute(i.htmlName)}else for(o=0,n=e.length;o<n;o++){var i;(i=e[o]).default&&t.goToRoute(i.htmlName)}},goToRoute:function(t){var e,o,n;e=this,o="../app/views/"+t,(n=new XMLHttpRequest).onreadystatechange=function(){4===this.readyState&&200===this.status&&(e.rootElem.innerHTML=this.responseText)},n.open("GET",o,!0),n.send()}};